$(function(){var a=Handlebars.compile($("#action-template").html()),t=$("#empty-template").html();$.ajax({type:"post",dataType:"json",url:"/api/action/get",beforeSend:function(){},success:function(t){parseInt(t.code)&&(0!=t.data.length?$("#pagination-container").pagination({dataSource:t.data,callback:function(t){var n=a(t);$("#action-body").html(n)}}):$("#action-body").html("暂时没有数据"))},error:function(){console.log("出现异常")}}),$("#action-body").on("click",".btn-success",function(){return $.trim($(".action-name").val())&&$.trim($(".name-view").val())?void $.ajax({type:"post",dataType:"json",url:"/api/action/create",data:{action:$(".action-name").val(),name:$(".name-view").val()},success:function(a){parseInt(a.code)&&window.location.reload()},error:function(){console.log("出现异常")}}):(alert("权限描述和权限名称不能为空"),!1)}),$("#action-body").on("click",".delete-btn",function(){var a=$(this).data("actionid"),t=$(this).closest("tr").data("roles");confirm("是否删除该权限")&&(t?alert("该权限已被调用，不可删除"):$.ajax({type:"post",dataType:"json",url:"/api/action/del",data:{id:a},success:function(a){parseInt(a.code)&&window.location.reload()},error:function(){console.log("出现异常")}}))}),$(".newAction").click(function(){$("#action-body").append(t)})});