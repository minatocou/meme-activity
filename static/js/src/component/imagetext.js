var teleComponent=Vue.extend({props:["setting"],data:function(){return{extendClass:{imagetext:!0}}},template:'<li class="template" :class="extendClass" imagetext-field="imagetext" :data-setting="setting | json">\n    <div class="block-img">\n        <div>\n            <img src="/img/static/img/component/imagetext-min.jpg">\n        </div>\n        <p>图文组件</p>\n    </div>\n    <div class="canvas-img" >\n        <img src="/img/static/img/component/imagetext.jpg">\n        <i class="close-btn">×</i>\n    </div>\n</li>',methods:{},created:function(){}});Vue.component("imagetext",teleComponent);var teleFormComponent=Vue.extend({data:function(){return{setting:{status:0},show:!1,i18n:window.i18n[document.body.getAttribute("data-localize")]}},methods:{slideItem:function(t){var e=t.currentTarget;$(e).find(".fa").toggleClass("fa-caret-right"),$(e).siblings(".itemBody").slideToggle()},initDate:function(t,e,n){var a={};e&&"start"==n&&(a.maxDate=e),e&&"end"==n&&(a.minDate=e),$(t.target).datetimepicker({onShow:function(){this.setOptions(a)}})},shutImagetext:function(t){var e=this;e.setting.status=0,resetForm({status:0});var n=setTimeout(function(){var e=$("body").data("state");saveData(e,function(t){1==t.code?window.location.href="/app/home/"+t.data.pageId:alert(t.msg)},$(t.currentTarget)),clearTimeout(n)},30)},openImagetext:function(t){var e=this;e.setting.status=1,resetForm({status:1});var n=setTimeout(function(){var e=$("body").data("state");saveData(e,function(t){1==t.code?window.location.href="/app/home/"+t.data.pageId:alert(t.msg)},$(t.currentTarget)),clearTimeout(n)},30)}},template:'<div class="imagetext-attr" v-show="show" role="form">\n    <div class="panel-group">\n        <div class="panel panel-default">\n            <div class="panel-heading">\n                <a data-toggle="collapse" data-parent="#imagetext" href="#imagetext">图文组件</a>\n            </div>\n            <div id="imagetext" class="panel-collapse collapse imagetextWrap">\n                <div class="panel-body singleConf">\n                    <div class="commonConf">\n                        <input type="hidden" class="has_change" name="has_change" value="${setting.has_change}">\n                    </div>\n                    <form class="teletextItem singleItem" data-val="${setting.id}">\n                        <a class="itemTitle" @click="slideItem($event)">图文组件配置 <i class="fa fa-caret-down"></i></a>\n                        <div class="itemBody">\n                            <div class="form-group">\n                                <div><em class="red">*</em>开始时间</div>\n                                <input @mousedown="initDate($event,setting.end_time,\'start\')" class="form-control input-sm startTime" value="${setting.start_time}" name="start_time" placeholder="${i18n.start_time}"\n                                       type="text">\n                            </div>\n                            <div class="form-group">\n                                <div><em class="red">*</em>结束时间</div>\n                                <input @mousedown="initDate($event,setting.start_time,\'end\')" class="form-control input-sm endTime" value="${setting.end_time}" name="end_time" placeholder="${i18n.end_time}" type="text">\n                            </div>\n                            <div class="form-group">\n                                <div><em class="red">*</em>组件标题(长度不能大于<span style="color:red;">16个字符</span>)</div>\n                                <input class="form-control input-sm title" value="${setting.title}" name="title" placeholder="${i18n.teletextName}" type="text">\n                            </div>\n                            <div class="form-group teleId">\n                                <div><em class="red">*</em>图文ID(多个图文id请用<span style="color:red;">英文逗号</span>分隔)</div>\n                                <input class="form-control input-sm position" value="${setting.data.ids}" name="ids" type="text">\n                            </div>\n                            <div class="form-group">\n                                <div class="ops">\n                                    <a class="btn btn-warning btn-sm shutImagetext" @click="shutImagetext($event)" :class="{\'active\':setting.status==1}" type="button">${i18n.shut}\n                                    </a>\n                                    <a class="btn btn-success btn-sm openImagetext" @click="openImagetext($event)" :class="{\'active\':setting.status==0}" type="button">${i18n.open}\n                                    </a>\n                                </div>\n                                <input class="status" type="hidden" name="status" value="${setting.status}">\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n',created:function(){console.log(this.setting)}});Vue.component("imagetext-form",teleFormComponent);