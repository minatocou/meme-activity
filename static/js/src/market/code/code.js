!function(){function t(t,a,e){$.ajax({url:CONFIG.dev.domain+"/code/detail",data:{rule_id:t,page:a,size:e},dataType:"json",type:"POST",success:function(t){var a=Handlebars.compile($("#privateCodeListTpl").html());$("#privateCodeList").html(a(t.data))},error:function(t){console.log(t)}})}var a=new MarketList("/code/list");a.getList(),$("#search").click(function(){var t={};checkTime()&&($("#id").val().trim()&&(t.id=$("#id").val().trim()),$("#name").val().trim()&&(t.name=$("#name").val().trim()),"0"==$("input[name=selectTime]:checked").val()?($("#from_date").val().trim()&&(t.from_date_start=$("#from_date").val().trim()),$("#from_date").val().trim()&&(t.from_date_end=$("#to_date").val().trim())):($("#from_date").val().trim()&&(t.to_date_start=$("#from_date").val().trim()),$("#from_date").val().trim()&&(t.to_date_end=$("#to_date").val().trim())),""!=$("#is_public").val()&&(t.is_public=$("#is_public").val()),""!=$("#status").val()&&(t.status=$("#status").val()),a.getList(t))}),MarketDelete("/code/delete"),dateTimePickerInit(!0),changeStatus("/code/update"),$("#list").on("click",".getPrivateCode",function(){var a=$(this).data("id"),e=5e4;t(a,1,e,function(){$("#privateListPaginationContainer").pagination({dataSource:new Array(20),pageSize:e,showGoInput:!0,showGoButton:!0,afterPageOnClick:function(i,n){t(a,n,e)},afterPreviousOnClick:function(i,n){t(a,n,e)},afterNextOnClick:function(i,n){t(a,n,e)},afterGoButtonOnClick:function(i,n){var o=n.trim();""!=o&&t(a,n,e)},callback:function(){}})})})}();