var winTpl=$("#winTemplate").html(),$addwin;$(".winfrom").datetimepicker(),$(".winto").datetimepicker({onShow:function(t,i){var n=$(i).parents("tr").prev().find(".winfrom").val();this.setOptions({minDate:n?n:!1})}}),$(".addWin").on("click",function(){$addwin=$(this),$("#winModal").modal()}),$("#winModal").on("show.bs.modal",function(){var t=$addwin.attr("data-csv"),i=t?JSON.parse(t):{},n=template("winTemplate",{items:i});$("#winModal .modal-body").html(n)}),$(".save-win").on("click",function(){var t=[];$(".win-model-table .targetTr").each(function(i,n){var a={};a.name=$.trim($(n).find(".win-name").val()),a.mobile=$.trim($(n).find(".win-mobile").val()),a.gift=$.trim($(n).find(".win-gift").val()),t.push(a)}),$addwin.attr("data-csv",JSON.stringify(t)),t.length&&$addwin.parent().prev().html(constant.saved),winEvent(),$("#winModal").modal("hide")}),$("body").on("click",".win-model-table .fa-plus",function(){var t='<tr class="targetTr"> <td><input type="text" class="win-name"></td> <td><input type="text" class="win-mobile"></td> <td><input type="text" class="win-gift"></td> <td><i class="fa fa-close"></i></td> </tr>';$(".add-modal").before(t)}),$("body").on("click",".win-model-table .fa-close",function(){$(this).parents("tr").remove()});