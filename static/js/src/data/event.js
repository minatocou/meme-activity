Vue.config.delimiters=["${","}"],vue=new Vue({el:"html",data:{eventList:[],showAddEvent:!1,add:{category:1}},methods:{initPage:function(){var e=this;$.ajax({url:"/event/search",type:"post",dataType:"json",data:$("form").serialize(),success:function(t){t.length?$("#pagination-container").pagination({dataSource:t,pageNumber:1,pageSize:10,callback:function(t){e.eventList=t}}):e.eventList=t},error:function(){e.eventList=[]}})},addEvent:function(){this.showAddEvent=!0,this.add={category:1},console.log(this.showAddEvent)},saveEvent:function(){var e=this;$.ajax({url:"/event/addEvent",type:"post",dataType:"json",data:e.add,success:function(t){0!=t.code?e.eventList.push(e.add):alert(t.err),e.add={category:1}},error:function(){alert("保存失败")}})},deleteEvent:function(e){var t=this;$.ajax({url:"/event/removeEvent",type:"post",dataType:"json",data:e,success:function(n){0!=n.code?t.eventList.$remove(e):alert(n.err)},error:function(){alert("保存失败")}})}},created:function(){this.initPage()}});