Vue.config.delimiters=["${","}"],Vue.config.unsafeDelimiters=["{!!","!!}"];var vue=new Vue({el:"html",data:{list:null,clicked:1},methods:{getDownloadSetting:function(){var t=this;$.ajax({url:"/api/appdownload/list",type:"get",dataType:"json",success:function(a){console.log(a),t.list=a.data}})},saveDownloadSetting:function(t){var a=this;a.clicked=0;var e=a.list[t],l=0;console.log(e);for(var n=0;n<a.list.length;n++)if(n!=t&&e.urlKey==a.list[n].urlKey){alert("存在重复渠道号，请修正~"),l=1;break}l||(e.urlKey.trim()?$.ajax({url:"/api/appdownload/save",type:"post",dataType:"json",data:{channel:JSON.stringify(e)},success:function(t){console.log(t),alert(t.msg),a.clicked=1,location.reload()}}):(alert("请填写渠道号"),a.clicked=1))},sth:function(){},delDownloadSetting:function(t){var a=this,e=a.list[t];e&&e.urlKey?confirm("确认删除该渠道吗？")&&$.ajax({url:"/api/appdownload/del",type:"post",dataType:"json",data:{channel:JSON.stringify(e)},success:function(t){console.log(t),alert(t.msg),location.reload()}}):a.list.pop(a.list[t])},addChannel:function(){var t=this,a={urlKey:"",ios:"",android:"",wechat:"",id:""};t.list.push(a)}},created:function(){var t=this;t.getDownloadSetting()}});