$(function(){function t(t){var t=t||1;$.ajax({type:"GET",url:APIHOST+"/coupon/search",async:!1,data:{customer_id:c,size:10,page:t},dataType:"json",success:function(t){n=t.data,o=template("couponListTpl",t.data),$("#couponList-container").html(o),e=t.data.total}})}function a(){for(var t=this,a=0;a<$(".cursor").length;a++)this!==$(".cursor")[a]&&($(".cursor")[a].flag=-1);this.flag*=-1,n.list.sort(function(a,e){var n=a[t.getAttribute("key")],o=e[t.getAttribute("key")];return isNaN(n)||isNaN(o)?n.localeCompare(o)*t.flag:(parseFloat(n)-parseFloat(o))*t.flag}),o=template("couponListTpl",n),$("#couponList-container").html(o)}{var e,n,o,c,r=!1,i=document.getElementsByClassName("table")[0];i.tBodies[0]}document.getElementById("searchBtn").onclick=function(){c=document.getElementById("user_id").value.trim(),c&&(t(),r||$("#pagination-container").pagination({dataSource:new Array(Number(e)),pageNumber:1,pageSize:10,callback:function(){},afterPageOnClick:function(a,e){t(e)},afterPreviousOnClick:function(a,e){t(e)},afterNextOnClick:function(a,e){t(e)}}))};for(var u=0;u<$(".cursor").length;u++)$(".cursor")[u].flag=-1;$(".cursor").click(function(){a.call(this)})});