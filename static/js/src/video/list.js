$(document).ready(function(){function a(a){var e=new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i"),t=decodeURIComponent(window.location.search).substr(1).match(e);return null!=t?t[2]:null}$("form.search").on("blur","input",function(){$(this).val($.trim($(this).val()))}),$(".appList").on("click",".searchBtn",function(){var a=$(this).parent(".search").serialize();location.href="?"+a}),$(".appList").on("click",".statusBtn",function(){var a;a=$(this).hasClass("open")?0:1;var e=$(this).parents("tr").data("videoid"),t={video_id:e,status:a};$.ajax({type:"post",dataType:"json",url:"/api/internal/sas/video/status",data:t,success:function(a){1==a.code?(alert(a.msg),window.location.reload()):alert(a.msg)},error:function(){console.log("出现异常")}})}),$(".appList").on("click",".delete",function(){if(confirm("确定删除该视频?")){var a=$(this).parents("tr").data("videoid"),e={video_id:a};$.ajax({type:"post",dataType:"json",url:"/api/internal/sas/video/delete",data:e,success:function(a){1==a.code?(alert(a.msg),window.location.reload()):alert(a.msg)},error:function(){console.log("出现异常")}})}});var e=$("#pagesObj").html().split(",");0!=e[1].trim()&&$("#pagination-container").pagination({dataSource:new Array(parseInt(e[1].trim())),pageSize:e[0].trim(),showGoInput:!0,showGoButton:!0,pageNumber:a("page")||1,afterPageOnClick:function(a,e){if(t()){var i=$("form.search").serialize();location.href="?page="+e.trim()+"&"+i}else location.href="?page="+e.trim()},afterPreviousOnClick:function(a,e){if(t()){var i=$("form.search").serialize();location.href="?page="+e.trim()+"&"+i}else location.href="?page="+e.trim()},afterNextOnClick:function(a,e){if(t()){var i=$("form.search").serialize();location.href="?page="+e.trim()+"&"+i}else location.href="?page="+e.trim()+"&"+i},afterGoButtonOnClick:function(a,e){if(t()){var i=$("form.search").serialize(),o=e.trim();""!=o&&(location.href="?page="+o+"&"+i)}else{var o=e.trim();""!=o&&(location.href="?page="+o)}},callback:function(){}});var t=function(){var e,t=window.location.href,i=a("page");e=i?"list?page="+i:"list";var o=t.split(e);return""!=o[1]?!0:!1}});