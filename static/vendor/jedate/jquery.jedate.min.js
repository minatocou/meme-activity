window.console&&(console=console||{log:function(){}}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e():t.jeDate=e(window.jQuery||$)}(this,function(t){function e(t,e){this.opts=e,this.valCell=t,this.init()}var a,n={},i=document,s=/\w+|d+/g,o=function(t){return window.parseInt(t,10)},r={skinCell:"jedateblue",format:"YYYY-MM-DD hh:mm:ss",minDate:"1900-01-01 00:00:00",maxDate:"2099-12-31 23:59:59"};return t.fn.jeDate=function(a){return this.each(function(){return new e(t(this),a||{})})},t.extend({jeDate:function(a,n){return t(a).each(function(){return new e(t(this),n||{})})}}),n.docScroll=function(t){return t=t?"scrollLeft":"scrollTop",i.body[t]|i.documentElement[t]},n.winarea=function(t){return i.documentElement[t?"clientWidth":"clientHeight"]},n.isShow=function(t,e){t.css({display:1!=e?"none":"block"})},n.isLeap=function(t){return 0!==t%100&&0===t%4||0===t%400},n.getDaysNum=function(t,e){var a=31;switch(o(e)){case 2:a=n.isLeap(t)?29:28;break;case 4:case 6:case 9:case 11:a=30}return a},n.getYM=function(t,e,a){var n=new Date(t,e-1);return n.setMonth(e-1+a),{y:n.getFullYear(),m:n.getMonth()+1}},n.getPrevMonth=function(t,e,a){return n.getYM(t,e,0-(a||1))},n.getNextMonth=function(t,e,a){return n.getYM(t,e,a||1)},n.digit=function(t){return 10>t?"0"+(0|t):t},n.IsNum=function(t){return null!=t&&""!=t?!isNaN(t):!1},n.parse=function(t,e,a){t=t.concat(e);var i="hh:mm"==n.parseCheck(a,!1).substring(0,5),s=2;return a.replace(/YYYY|MM|DD|hh|mm|ss/g,function(){var e=i?++s:t.index=0|++t.index;return void 0==t[e]||""==t[e]?t[e]:n.digit(t[e])})},n.parseCheck=function(t,e){var a=[];return t.replace(/YYYY|MM|DD|hh|mm|ss/g,function(t){a.push(t)}),a.join(1==e?"-":":")},n.checkFormat=function(t){var e=[];return t.replace(/YYYY|MM|DD|hh|mm|ss/g,function(t){e.push(t)}),e.join("-")},n.parseMatch=function(t){var e=t.split(" ");return e[0].match(s)},n.checkDate=function(t){var e=t.match(s);if(isNaN(e[0])||isNaN(e[1])||isNaN(e[2]))return!1;if(e[1]>12||e[1]<1)return!1;if(e[2]<1||e[2]>31)return!1;if((4==e[1]||6==e[1]||9==e[1]||11==e[1])&&e[2]>30)return!1;if(2==e[1]){if(e[2]>29)return!1;if((0==e[0]%100&&0!=e[0]%400||0!=e[0]%4)&&e[2]>28)return!1}return!0},n.initDates=function(t,e){var a,i,s,r,l,d,c,h;return e=e||"YYYY-MM-DD hh:mm:ss","string"==typeof t?a=new Date(1e3*o(t.substring(0,10))):(t=0|t,a=new Date,i=a.getTime()+864e5*t,a.setTime(i)),s=a.getFullYear(),r=a.getMonth()+1,l=a.getDate(),d=a.getHours(),c=a.getMinutes(),h=a.getSeconds(),n.parse([s,n.digit(r),n.digit(l)],[n.digit(d),n.digit(c),n.digit(h)],e)},n.montharr=[1,2,3,4,5,6,7,8,9,10,11,12],n.weeks=["日","一","二","三","四","五","六"],n.isValHtml=function(t){return/textarea|input/.test(t[0].tagName.toLocaleLowerCase())},n.isBool=function(t){return void 0==t||1==t?!0:!1},n.addDateTime=function(t,e,a,i){var r="hh-mm"==n.checkFormat(i).substring(0,5)?!0:!1,l=r?t.replace(/^(\d{2})(?=\d)/g,"$1,"):t.substr(0,4).replace(/^(\d{4})/g,"$1,")+t.substr(4).replace(/^(\d{2})(?=\d)/g,"$1,"),d=n.IsNum(t)?l.match(s):t.match(s),c=new Date,h=o(d[0]),u=void 0==d[1]?c.getMonth()+1:o(d[1]),m=void 0==d[2]?c.getDate():o(d[2]),f=void 0==d[3]?c.getHours():o(d[3]),p=void 0==d[4]?c.getMinutes():o(d[4]),y=void 0==d[5]?c.getMinutes():o(d[5]),g=new Date(h,n.digit(u)-1,"DD"==a?m+e:m,"hh"==a?f+e:f,"mm"==a?p+e:p,n.digit(y));return n.parse([g.getFullYear(),g.getMonth()+1,g.getDate()],[g.getHours(),g.getMinutes(),g.getSeconds()],i)},n.boxCell="#jedatebox",a=e.prototype,a.init=function(){var e,a=this,i=a.opts,s=void 0==i.zIndex?2099:i.zIndex,o=void 0==i.isinitVal||0==i.isinitVal?!1:!0,l=t("<div id="+n.boxCell.replace(/\#/g,"")+" class='jedatebox "+(i.skinCell||r.skinCell)+"'></div");n.fixed=n.isBool(i.fixed),l.attr("author","chen guojun--www.jayui.com--version:"+t.dateVer),l.css({"z-index":s,position:1==n.fixed?"absolute":"fixed",display:"block"}),e=function(e){var a,s,o,l,d,c=i.format||r.format,h=i.initAddVal||[0];1==h.length?(a=h[0],s="DD"):(a=h[0],s=h[1]),o=t.inArray(n.checkFormat(c),["YYYYMM","YYYYMMDD","YYYYMMDDhh","YYYYMMDDhhmm","YYYYMMDDhhmmss"]),l=n.initDates(0,c),d=-1!=o?l:n.addDateTime(l,a,s,c),""==(e.val()||e.text())?n.isValHtml(e)?e.val(d):e.text(d):n.isValHtml(e)?e.val():e.text()},o&&n.isBool(i.insTrigger)&&a.valCell.each(function(){e(t(this))}),n.isBool(i.insTrigger)?a.valCell.on("click",function(e){e.stopPropagation(),t(n.boxCell).length>0||(n.format=i.format||r.format,n.minDate=i.minDate||r.minDate,n.maxDate=i.maxDate||r.maxDate,t("body").append(l),a.setHtml(i))}):(n.format=i.format||r.format,n.minDate=i.minDate||r.minDate,n.maxDate=i.maxDate||r.maxDate,t("body").append(l),a.setHtml(i))},a.orien=function(t,e,a){var i,s,o,r,l=n.fixed?e[0].getBoundingClientRect():t[0].getBoundingClientRect();n.fixed?(s=l.right+t.outerWidth()/1.5>=n.winarea(1)?l.right-t.outerWidth():l.left+(a?0:n.docScroll(1)),i=l.bottom+t.outerHeight()/1<=n.winarea()?l.bottom-1:l.top>t.outerHeight()/1.5?l.top-t.outerHeight()-1:n.winarea()-t.outerHeight(),o=Math.max(i+(a?0:n.docScroll())+1,1)+"px",r=s+"px"):(o="50%",r="50%",t.css({"margin-top":-(l.height/2),"margin-left":-(l.width/2)})),t.css({top:o,left:r})},a.dateClose=function(){t(n.boxCell).remove()},a.setHtml=function(e){var a,i,r,l,d,c,h,u,m,f,p,y,g=this,v=g.valCell,j=t(n.boxCell),D="",Y="",M=new Date,x=n.checkFormat(n.format),b="YYYY-MM"==x||"YYYY"==x?!0:!1,w="hh-mm"==x.substring(0,5)?!0:!1;n.formatType=x,""==(v.val()||v.text())?(Y=[M.getFullYear(),M.getMonth()+1,M.getDate(),M.getHours(),M.getMinutes(),M.getSeconds()],n.currDate=new Date(Y[0],o(Y[1])-1,Y[2],Y[3],Y[4],Y[5]),n.ymdDate=Y[0]+"-"+n.digit(Y[1])+"-"+n.digit(Y[2])):(a=n.isValHtml(v)?v.val():v.text(),i=w?a.replace(/^(\d{2})(?=\d)/g,"$1,"):a.substr(0,4).replace(/^(\d{4})/g,"$1,")+a.substr(4).replace(/^(\d{2})(?=\d)/g,"$1,"),r=n.IsNum(a)?i.match(s):a.match(s),w?(Y="hh-mm"==x?[r[0],r[1],M.getSeconds()]:[r[0],r[1],r[2]],n.currDate=new Date(M.getFullYear(),M.getMonth()-1,M.getDate())):(Y=[r[0],r[1],r[2],void 0==r[3]?M.getHours():r[3],void 0==r[4]?M.getMinutes():r[4],void 0==r[5]?M.getSeconds():r[5]],n.currDate=new Date(Y[0],o(Y[1])-1,Y[2],Y[3],Y[4],Y[5]),n.ymdDate=Y[0]+"-"+n.digit(Y[1])+"-"+n.digit(Y[2]))),n.currMonth=Y[1],n.currDays=Y[2],l='<div class="jedatetop" style="display:'+(w?"none":"bolck")+'">'+(b?'<div class="jedateym" style="width:100%;"><i class="prev triangle ymprev"></i><span class="jedateyy"><em class="jedateyearmonth"></em></span><i class="next triangle ymnext"></i></div>':'<div class="jedateym" style="width:50%;"><i class="prev triangle yearprev"></i><span class="jedateyy" ym="24"><em class="jedateyear"></em><em class="pndrop"></em></span><i class="next triangle yearnext"></i></div><div class="jedateym" style="width:50%;"><i class="prev triangle monthprev"></i><span class="jedatemm" ym="12"><em class="jedatemonth"></em><em class="pndrop"></em></span><i class="next triangle monthnext"></i></div>')+"</div>",d=b?"YYYY"==x?'<ul class="jedayy"></ul>':'<ul class="jedaym"></ul>':'<div class="jedatetopym" style="display: none;"><ul class="ymdropul"></ul><p><span class="jedateymchle">&lt;&lt;</span><span class="jedateymchri">&gt;&gt;</span><span class="jedateymchok">关闭</span></p></div>',c='<ol class="jedaol"></ol><ul class="jedaul"></ul>',h=b?"YYYY"==x?'<div class="botflex jedatebtn"><span class="jedateok" style="width:47.8%">确认</span><span class="jedateclear" style="width:47.8%">清空</span></div>':'<div class="botflex jedatebtn"><span class="jedateok">确认</span><span class="jedatetodaymonth">本月</span><span class="jedateclear">清空</span></div>':'<div class="botflex jedatehmsshde"><ul class="jedatehms"><li><input type="text" /></li><i>:</i><li><input type="text" /></li><i>:</i><li><input type="text" /></li></ul></div><div class="botflex jedatebtn"><span class="jedateok">确认</span><span class="jedatetodaymonth">今天</span><span class="jedateclear">清空</span></div>',u='<div class="jedatebot">'+h+"</div>",m='<div class="jedateprophms '+(w?"jedatepropfix":"jedateproppos")+'"><div class="jedatepropcon"><div class="jedatehmstitle">时间选择<div class="jedatehmsclose">&times;</div></div><div class="jedateproptext">小时</div><div class="jedateproptext">分钟</div><div class="jedateproptext">秒数</div><div class="jedatehmscon jedateprophours"></div><div class="jedatehmscon jedatepropminutes"></div><div class="jedatehmscon jedatepropseconds"></div></div></div>',f=b?l+d+u:w?l+m+u:l+d+c+m+u,j.html(f),n.isBool(e.isClear)?"":n.isShow(j.find(".jedatebot .jedateclear"),!1),b||(n.isBool(e.isToday)?"":n.isShow(j.find(".jedatebot .jedatetodaymonth"),!1)),n.isBool(e.isOk)?"":n.isShow(j.find(".jedatebot .jedateok")[0],!1),/\hh-mm/.test(x)?(p=function(a){var i;i=""!=v.val()||""!=v.text()?a?[Y[0],Y[1],Y[2]]:[Y[3],Y[4],Y[5]]:[n.currDate.getHours(),n.currDate.getMinutes(),n.currDate.getSeconds()],j.find(".jedatebot .jedatehms input").each(function(a){t(this).val(n.digit(i[a])),n.isBool(e.ishmsVal)?"":t(this).attr("readOnly","true")})},w?(p(!0),j.find(".jedateyear").text(n.currDate.getFullYear()+"年"),j.find(".jedatemonth").text(n.digit(n.currDate.getMonth()+1)+"月")):n.isBool(e.isTime)?p(!1):(n.isShow(j.find(".jedatebot .jedatehmsshde"),!1),j.find(".jedatebot .jedatebtn").css("width","100%"))):(b||n.isShow(j.find(".jedatebot .jedatehmsshde"),!1),j.find(".jedatebot .jedatebtn").css("width","100%")),/\YYYY-MM-DD/.test(x)&&(t.each(n.weeks,function(t,e){D+='<li class="weeks" data-week="'+e+'">'+e+"</li>"}),j.find(".jedaol").html(D),g.createDaysHtml(n.currDate.getFullYear(),n.currDate.getMonth()+1,e),g.chooseYM(e)),b&&(y=j.find(".jedateym .jedateyearmonth"),"YYYY"==x?(y.attr("data-onyy",Y[0]).text(Y[0]+"年"),j.find(".jedayy").html(g.onlyYear(Y[0]))):(y.attr("data-onym",Y[0]+"-"+n.digit(Y[1])).text(Y[0]+"年"+o(Y[1])+"月"),j.find(".jedaym").html(g.onlyYMStr(Y[0],o(Y[1])))),g.onlyYMevents(Y,e)),g.orien(j,v),setTimeout(function(){e.success&&e.success(v)},2),g.events(Y,e)},a.createDaysHtml=function(e,a,i){var r,l,d,c,h,u,m,f,p,y,g,v,j,D,Y,M,x,b,w,k,C,F=this,H=t(n.boxCell),L=o(e),S=o(a),I="",N=0,P=n.minDate.match(s),q=P[0]+P[1]+P[2],T=n.maxDate.match(s),V=T[0]+T[1]+T[2];for(H.find(".jedaul").html(""),r=new Date(L,S-1,1).getDay()||7,l=n.getDaysNum(L,S),d=n.getPrevMonth(L,S),c=n.getDaysNum(L,d.m),h=n.getNextMonth(L,S),u=n.currDate.getFullYear()+"-"+n.digit(n.currDate.getMonth()+1)+"-"+n.digit(1),m=L+"-"+n.digit(S)+"-"+n.digit(1),H.find(".jedateyear").attr("year",L).text(L+"年"),H.find(".jedatemonth").attr("month",S).text(S+"月"),f=function(e,a,s){var o=i.marks,r=function(t,e){for(var a=t.length;a--;)if(t[a]===e)return!0;return!1};return t.isArray(o)&&o.length>0&&r(o,e+"-"+n.digit(a)+"-"+n.digit(s))?'<i class="marks"></i>':""},p=function(t,e,a){var n,s,o,r;return 1==i.festival?(s=jeLunar(t,e-1,a),o=s.solarFestival||s.lunarFestival,r=""!=(o&&s.jieqi)?o:s.jieqi||s.showInLunar,n='<p><span class="solar">'+a+'</span><span class="lunar">'+r+"</span></p>"):n='<p class="nolunar">'+a+"</p>",n},y=function(t,e,a,i){var s=(t+"-"+n.digit(e)+"-"+n.digit(a)).replace(/\-/g,"");if(i){if(o(s)>=o(q)&&o(s)<=o(V))return!0}else if(o(q)>o(s)||o(V)<o(s))return!0},g=c-r+1;c>=g;g++,N++)v=f(d.y,d.m,g),j=y(d.y,d.m,g,!1)?"disabled":"other",I+='<li year="'+d.y+'" month="'+d.m+'" day="'+g+'" class='+j+">"+(p(d.y,d.m,g)+v)+"</li>";for(D=1;l>=D;D++,N++)Y="",M=f(L,S,D),x=L+"-"+n.digit(S)+"-"+n.digit(D),Y=y(L,S,D,!0)?n.ymdDate==x?"action":u!=m&&m==x?"action":"":"disabled",I+='<li year="'+L+'" month="'+S+'" day="'+D+'" '+(""!=Y?"class="+Y:"")+">"+(p(L,S,D)+M)+"</li>";for(b=1,w=42-N;w>=b;b++)k=f(h.y,h.m,b),C=y(h.y,h.m,b,!1)?"disabled":"other",I+='<li year="'+h.y+'" month="'+h.m+'" day="'+b+'" class='+C+">"+(p(h.y,h.m,b)+k)+"</li>";H.find(".jedaul").html(I),F.chooseDays(i)},a.onlyYMStr=function(e,a){var i="";return t.each(n.montharr,function(t,s){var o=n.parseMatch(n.minDate),r=n.parseMatch(n.maxDate),l=new Date(e,n.digit(s),"01"),d=new Date(o[0],o[1],o[2]),c=new Date(r[0],r[1],r[2]);i+=d>l||l>c?"<li class='disabled' ym='"+e+"-"+n.digit(s)+"'>"+e+"年"+n.digit(s)+"月</li>":"<li "+(a==s?'class="action"':"")+' ym="'+e+"-"+n.digit(s)+'">'+e+"年"+n.digit(s)+"月</li>"}),i},a.onlyYear=function(e){var a="";return n.yearArr=new Array(15),t.each(n.yearArr,function(i){var s=n.parseMatch(n.minDate),o=n.parseMatch(n.maxDate),r=s[0],l=o[0],d=e-7+i,c=t(n.boxCell).find(".jedateym .jedateyearmonth").attr("data-onyy");a+=r>d||d>l?"<li class='disabled' yy='"+d+"'>"+d+"年</li>":"<li "+(c==d?'class="action"':"")+" yy='"+d+"'>"+d+"年</li>"}),a},a.setStrhms=function(e){var a,i,r,l,d,c,h,u=t(n.boxCell),m=n.format,f=[],p=u.find(".jedatehms li"),y=u.find(".jedatepropcon .jedateproptext"),g=u.find(".jedatepropcon .jedatehmscon"),v=function(t){var e=t.match(s).join("-"),a="YYYY-MM-DD-hh-mm"==e?t.split(" "):e,n="YYYY-MM-DD-hh-mm"==e?a[1]:a;return n.match(s).join("-")};return u.find(".jedateprophms").css({bottom:u.find(".jedatebot").height()}),a=n.minDate.split(" ")[1].match(s),i=n.maxDate.split(" ")[1].match(s),r="hh-mm"==v(m),r&&(l=p.css("width").replace(/\px|em|rem/g,""),d=u.find(".jedatehms i").css("width").replace(/\px|em|rem/g,""),c=y.css("width").replace(/\px|em|rem/g,""),h=Math.round(o(l)+o(l)/2+o(d)/2),p[0].style.width=p[1].style.width=h+"px",y[0].style.width=y[1].style.width=g[0].style.width=g[1].style.width=Math.round(o(c)+o(c)/2+2)+"px"),t.each([24,60,60],function(t,s){var o,l,d="",c="",h=u.find(".jedatehms input"),m=h.eq(t).val();for(h.eq(t).attr("maxlength",2).attr("numval",s-1).attr("item",t),o=0;s>o;o++)o=n.digit(o),n.isBool(e.hmsLimit)?(c=r&&2==t?a[t]==o?"disabled action":"disabled":m==o?"action":"",r&&2==t&&(l=p.eq(2),l.css({display:"none"}).prev().css({display:"none"}),y.eq(t).css({display:"none"}),g.eq(t).css({display:"none"}))):c=o<a[t]||o>i[t]?o==m?"disabled action":"disabled":o==m?"action":"",d+='<p class="'+c+'">'+o+"</p>";f.push(d)}),f},a.onlyYMevents=function(e,a){var i,s=this,r=t(n.boxCell),l=r.find(".jedateym .ymprev"),d=r.find(".jedateym .ymnext"),c=o(e[0]),h=parseFloat(e[1]);t.each([l,d],function(t,e){e.on("click",function(t){t.stopPropagation(),"YYYY"==n.checkFormat(n.format)?(i=e==l?r.find(".jedayy li").attr("yy"):r.find(".jedayy li").eq(n.yearArr.length-1).attr("yy"),r.find(".jedayy").html(s.onlyYear(o(i)))):(i=e==l?c-=1:c+=1,r.find(".jedaym").html(s.onlyYMStr(i,h))),s.ymPremNextEvents(a)})})},a.nongliorien=function(t,e,a){var i,s,o,r,l=e[0].getBoundingClientRect();return s=l.right+t[0].offsetWidth/1.5>=n.winarea(1)?l.right-t[0].offsetWidth:l.left+(a?0:n.docScroll(1)),i=l.bottom+t[0].offsetHeight/1<=n.winarea()?l.bottom-1:l.top>t[0].offsetHeight/1.5?l.top-t[0].offsetHeight-1:n.winarea()-t[0].offsetHeight,o=Math.max(i+(a?0:n.docScroll())+1,1)+"px",r=s+"px",{top:o,left:r}},a.chooseDays=function(e){var i=this,s=i.valCell,r=t(n.boxCell);r.find(".jedaul li").on("click",function(a){var l,d,c,h,u=t(this),m=[];u.hasClass("disabled")||(a.stopPropagation(),r.find(".jedatehms input").each(function(){m.push(t(this).val())}),l=o(u.attr("year")),d=parseFloat(u.attr("month")),c=parseFloat(u.attr("day")),h=n.parse([l,d,c],[m[0],m[1],m[2]],n.format),n.isValHtml(s)?s.val(h):s.text(h),i.dateClose(),e.festival&&t("#jedatetipscon").remove(),(t.isFunction(e.choosefun)||null!=e.choosefun)&&e.choosefun&&e.choosefun(s,h))}),e.festival&&r.find(".jedaul li").on("mouseover",function(){var n,i=t(this),s=o(i.attr("year")),r=parseFloat(i.attr("month")),l=parseFloat(i.attr("day")),d=t("<div/>",{id:"jedatetipscon","class":"jedatetipscon"}),c=jeLunar(s,r-1,l),h="<p>"+c.solarYear+"年"+c.solarMonth+"月"+c.solarDate+"日 "+c.inWeekDays+'</p><p class="red">农历：'+c.shengxiao+"年 "+c.lnongMonth+"月"+c.lnongDate+"</p><p>"+c.ganzhiYear+"年 "+c.ganzhiMonth+"月 "+c.ganzhiDate+"日</p>",u=""!=(c.solarFestival||c.lunarFestival)?'<p class="red">'+("节日："+c.solarFestival+c.lunarFestival)+"</p>":"",m=""!=c.jieqi?'<p class="red">'+(""!=c.jieqi?"节气："+c.jieqi:"")+"</p>":"",f=""!=(c.solarFestival||c.lunarFestival||c.jieqi)?u+m:"";t("body").append(d),d.html(h+f),n=a.nongliorien(d,i),d.css({"z-index":void 0==e.zIndex?2104:e.zIndex+5,top:n.top,left:n.left,position:"absolute",display:"block"})}).on("mouseout",function(){t("#jedatetipscon").length>0&&t("#jedatetipscon").remove()})},a.chooseYM=function(e){function a(e){var a,n="";return t.each(new Array(15),function(t){if(7===t){var i=f.attr("year");a=o(e)>=o(j[0])&&o(e)<=o(Y[0])?i==e?'class="action"':"":'class="disabled"',n+="<li "+a+' yy="'+e+'">'+e+"年</li>"}else a=o(e-7+t)>=o(j[0])&&o(e-7+t)<=o(Y[0])?"":'class="disabled"',n+="<li "+a+' yy="'+(e-7+t)+'">'+(e-7+t)+"年</li>"}),n}function i(e,i){var s="";12==i?(t.each(n.montharr,function(t,e){var a,i=p.attr("month");e=n.digit(e),a=o(f.attr("year")+e)>=o(D)&&o(f.attr("year")+e)<=o(M)?n.digit(i)==e?'class="action"':"":'class="disabled"',s+="<li "+a+' mm="'+e+'">'+e+"月</li>"}),t.each([y,g],function(t,e){n.isShow(e,!1)})):(s=a(e),t.each([y,g],function(t,e){n.isShow(e,!0)})),h.removeClass(12==i?"jedatesety":"jedatesetm").addClass(12==i?"jedatesetm":"jedatesety"),c.find(".jedatetopym .ymdropul").html(s),n.isShow(h,!0)}function r(a){c.find(".ymdropul li").on("click",function(i){var s=t(this),r=s.attr("yy"),l=o(p.attr("month"));s.hasClass("disabled")||(i.stopPropagation(),a.attr("year",r).html(r+"年"),n.isShow(h,!1),d.createDaysHtml(r,l,e))})}var l,d=this,c=t(n.boxCell),h=c.find(".jedatetopym"),u=c.find(".jedateyy"),m=c.find(".jedatemm"),f=c.find(".jedateyy .jedateyear"),p=c.find(".jedatemm .jedatemonth"),y=c.find(".jedateymchri"),g=c.find(".jedateymchle"),v="hh-mm"==n.checkFormat(n.format).substring(0,5)?!0:!1,j=n.minDate.match(s),D=j[0]+j[1],Y=n.maxDate.match(s),M=Y[0]+Y[1];!v&&u.on("click",function(){var e=t(this),a=o(e.attr("ym")),n=o(f.attr("year"));i(n,a),r(f)}),!v&&m.on("click",function(){var a=t(this),s=o(a.attr("ym")),r=o(f.attr("year"));i(r,s),c.find(".ymdropul li").on("click",function(a){if(!t(this).hasClass("disabled")){a.stopPropagation();var i=t(this),s=f.attr("year"),r=o(i.attr("mm"));p.attr("month",r).html(r+"月"),n.isShow(h,!1),d.createDaysHtml(s,r,e)}})}),c.find(".jedateymchok").on("click",function(t){t.stopPropagation(),n.isShow(h,!1)}),l=o(f.attr("year")),t.each([g,y],function(t,e){e.on("click",function(e){e.stopPropagation(),0==t?l-=15:l+=15;var n=a(l);c.find(".jedatetopym .ymdropul").html(n),r(f)})})},a.ymPremNextEvents=function(e){var a=this,i=a.valCell,o=t(n.boxCell),r=new Date,l="YYYY"==n.checkFormat(n.format),d=o.find(l?".jedayy li":".jedaym li");d.on("click",function(o){if(!t(this).hasClass("disabled")){o.stopPropagation();var d=l?t(this).attr("yy").match(s):t(this).attr("ym").match(s),c=l?n.parse([d[0],r.getMonth()+1,1],[0,0,0],n.format):n.parse([d[0],d[1],1],[0,0,0],n.format);n.isValHtml(i)?i.val(c):i.text(c),a.dateClose(),(t.isFunction(e.choosefun)||null!=e.choosefun)&&e.choosefun(i,c)}})},a.events=function(e,a){var i,r,l,d,c,h=this,u=h.valCell,m=t(n.boxCell),f=new Date,p=m.find(".yearprev"),y=m.find(".yearnext"),g=m.find(".monthprev"),v=m.find(".monthnext"),j=m.find(".jedateyear"),D=m.find(".jedatemonth"),Y="YYYY-MM"==n.checkFormat(n.format)||"YYYY"==n.checkFormat(n.format)?!0:!1,M="hh-mm"==n.checkFormat(n.format).substring(0,5)?!0:!1,x=155;Y?(h.ymPremNextEvents(a),m.find(".jedatebot .jedatetodaymonth").on("click",function(e){e.stopPropagation();var i=[f.getFullYear(),f.getMonth()+1,f.getDate()],s=n.parse([i[0],i[1],0],[0,0,0],n.format);n.isValHtml(u)?u.val(s):u.text(s),h.dateClose(),(t.isFunction(a.choosefun)||null!=a.choosefun)&&a.choosefun(u,s)})):(!M&&t.each([p,y],function(t,e){e.on("click",function(t){if("block"!=m.find(".jedatetopym").css("display")){t.stopPropagation();var n=o(j.attr("year")),i=o(D.attr("month")),s=e==p?--n:++n;e==h.createDaysHtml(s,i,a)}})}),!M&&t.each([g,v],function(t,e){e.on("click",function(t){if("block"!=m.find(".jedatetopym").css("display")){t.stopPropagation();var i=o(j.attr("year")),s=o(D.attr("month")),r=n.getPrevMonth(i,s),l=n.getNextMonth(i,s);e==g?h.createDaysHtml(r.y,r.m,a):h.createDaysHtml(l.y,l.m,a)}})}),i=h.setStrhms(a),r=function(e){t.each(e,function(t,e){""==e.html()&&e.html(i[t])}),M?(n.isShow(m.find(".jedatehmsclose"),!1),n.isShow(m.find(".jedatetodaymonth"),!1)):n.isShow(m.find(".jedateprophms"),!0),t.each(["hours","minutes","seconds"],function(e,a){var i,s=m.find(".jedateprop"+a),o=m.find(".jedateprop"+a+" .action");s[0].scrollTop=o[0].offsetTop-x,i=m.find(".jedateprop"+a+" p"),i.on("click",function(){var a=t(this);a.hasClass("disabled")||(i.each(function(){t(this).removeClass("action")}),a.addClass("action"),m.find(".jedatebot .jedatehms input").eq(e).val(n.digit(a.text())),M||n.isShow(m.find(".jedateprophms"),!1))})})},l=m.find(".jedateprophours"),d=m.find(".jedatepropminutes"),c=m.find(".jedatepropseconds"),M?r([l,d,c]):m.find(".jedatehms").on("click",function(){"block"!==m.find(".jedateprophms").css("display")&&r([l,d,c]),m.find(".jedateprophms .jedatehmsclose").on("click",function(){n.isShow(m.find(".jedateprophms"),!1)})}),m.find(".jedatebot .jedatetodaymonth").on("click",function(){var e=[f.getFullYear(),f.getMonth()+1,f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds()],i=n.parse([e[0],e[1],e[2]],[e[3],e[4],e[5]],n.format);h.createDaysHtml(e[0],e[1],a),n.isValHtml(u)?u.val(i):n.text(i),h.dateClose(),(t.isFunction(a.choosefun)||null!=a.choosefun)&&a.choosefun(u,i),Y||h.chooseDays(a)})),m.find(".jedatehms input").on("keyup",function(){var e=t(this),a=e.val(),n=o(e.attr("numval")),i=o(e.attr("item"));e.val(a.replace(/\D/g,"")),a>n&&(e.val(n),alert("输入值不能大于"+n)),""==a&&e.val("00"),m.find(".jedatehmscon").eq(i).children().each(function(){t(this).removeClass("action")}),m.find(".jedatehmscon").eq(i).children().eq(o(e.val().replace(/^0/g,""))).addClass("action"),t.each(["hours","minutes","seconds"],function(t,e){var a=m.find(".jedateprop"+e),n=m.find(".jedateprop"+e+" .action");a[0].scrollTop=n[0].offsetTop-x})}),m.find(".jedatebot .jedateclear").on("click",function(e){e.stopPropagation();var i=n.isValHtml(u)?u.val():u.text();n.isValHtml(u)?u.val(""):u.text(""),h.dateClose(),""!=i&&(n.isBool(a.clearRestore)&&(n.minDate=a.startMin||n.minDate,n.maxDate=a.startMax||n.maxDate),(t.isFunction(a.clearfun)||null!=a.clearfun)&&a.clearfun(u,i))}),m.find(".jedatebot .jedateok").on("click",function(i){var r,l,d,c,p,y,g,v,x,b,w,k,C,F,H,L,S,I,N,P,q;i.stopPropagation(),r=""!=(u.val()||u.text()),l="YYYY"==n.checkFormat(n.format),d="",c=function(){var e=[];return m.find(".jedatehms input").each(function(){e.push(t(this).val())}),e},p=n.minDate.match(s),y=p[0]+p[1]+p[2],g=n.maxDate.match(s),v=g[0]+g[1]+g[2],r?(x=n.isValHtml(u)?u.val():u.text(),b=x.match(s),Y?(S=m.find(l?".jedayy .action":".jedaym .action"),l?(I=S?S.attr("yy").match(s):b,d=n.parse([o(I[0]),f.getMonth()+1,1],[0,0,0],n.format)):(N=S?S.attr("ym").match(s):b,d=n.parse([o(N[0]),o(N[1]),1],[0,0,0],n.format))):(w=c(),k=[o(j.attr("year")),o(D.attr("month")),b[2]],C=k[0]+k[1]+k[2],F=[b[0],void 0==b[1]?"":b[1],void 0==b[2]?"":b[2]],H=[void 0==w[0]?"":w[0],void 0==w[1]?"":w[1],void 0==w[2]?"":w[2]],L=o(C)>=o(y)&&o(C)<=o(v)?!0:!1,d=r&&L?n.parse([k[0],k[1],k[2]],H,n.format):n.parse(F,H,n.format),M||h.createDaysHtml(k[0],k[1],a),h.chooseDays(a))):(P=c(),q=m.find(".jedateyearmonth")[0],I="",M?d=n.parse([e[0],e[1],e[2]],[P[0],P[1],P[2]],n.format):(I=Y?"YYYY"==n.checkFormat(n.format)?q.attr("data-onyy").match(s):q.attr("data-onym").match(s):[f.getFullYear(),f.getMonth()+1,f.getDate()],d=l?n.parse([o(I[0]),f.getMonth(),1],[0,0,0],n.format):n.parse([o(I[0]),o(I[1]),f.getDate()],[P[0],P[1],P[2]],n.format))),n.isValHtml(u)?u.val(d):u.text(d),h.dateClose(),(t.isFunction(a.okfun)||null!=a.okfun)&&a.okfun(n.elemCell,d)}),t(document).on("mouseup scroll",function(e){e.stopPropagation();var a=t(n.boxCell);a&&"none"!==a.css("display")&&a.remove(),t("#jedatetipscon").length>0&&t("#jedatetipscon").remove()}),t(n.boxCell).on("mouseup",function(t){t.stopPropagation()})},t.dateVer="3.8",t.nowDate=function(t){return n.initDates(t)},t.getLunar=function(t){if(/\YYYY-MM-DD/.test(n.formatType)){var e=t.substr(0,4).replace(/^(\d{4})/g,"$1,")+t.substr(4).replace(/^(\d{2})(?=\d)/g,"$1,"),a=n.IsNum(t)?e.match(s):t.match(s),i=jeLunar(a[0],a[1]-1,a[2]);return{nMonth:i.lnongMonth,nDays:i.lnongDate,yYear:o(i.solarYear),yMonth:o(i.solarMonth),yDays:o(i.solarDate),cWeek:i.inWeekDays,nWeek:i.solarWeekDay}}},t.addDate=function(t,e,a){return e=0|e,a=a||"DD",n.addDateTime(t,e,a,n.format)},e}),function(t,e){t.jeLunar=e(t.jeLunar)}(this,function(t){function e(t){var e,m=function(t,e){var a=new Date(31556925974.7*(t-1900)+6e4*n[e]+Date.UTC(1900,0,6,2,5));return a.getUTCDate()},f=function(t){var e,n=348;for(e=32768;e>8;e>>=1)n+=a[t-1900]&e?1:0;return n+y(t)},p=function(t){return i.charAt(t%10)+s.charAt(t%12)},y=function(t){var e=g(t)?65536&a[t-1900]?30:29:0;return e},g=function(t){return 15&a[t-1900]},v=function(t,e){return a[t-1900]&65536>>e?30:29},j=function(t){var e,a=0,n=0,i=new Date(1900,0,31),s=(t-i)/864e5;for(this.dayCyl=s+40,this.monCyl=14,e=1900;2050>e&&s>0;e++)n=f(e),s-=n,this.monCyl+=12;for(0>s&&(s+=n,e--,this.monCyl-=12),this.year=e,this.yearCyl=e-1864,a=g(e),this.isLeap=!1,e=1;13>e&&s>0;e++)a>0&&e==a+1&&0==this.isLeap?(--e,this.isLeap=!0,n=y(this.year)):n=v(this.year,e),1==this.isLeap&&e==a+1&&(this.isLeap=!1),s-=n,0==this.isLeap&&this.monCyl++;0==s&&a>0&&e==a+1&&(this.isLeap?this.isLeap=!1:(this.isLeap=!0,--e,--this.monCyl)),0>s&&(s+=n,--e,--this.monCyl),this.month=e,this.day=s+1},D=function(t){return 10>t?"0"+(0|t):t},Y=function(t,e){var a=t;return e.replace(/dd?d?d?|MM?M?M?|yy?y?y?/g,function(t){switch(t){case"yyyy":var e="000"+a.getFullYear();return e.substring(e.length-4);case"dd":return D(a.getDate());case"d":return a.getDate().toString();case"MM":return D(a.getMonth()+1);case"M":return a.getMonth()+1}})},M=function(t,e){var a;switch(e){case 10:a="初十";break;case 20:a="二十";break;case 30:a="三十";break;default:a=d.charAt(Math.floor(e/10)),a+=l.charAt(e%10)}return a};this.isToday=!1,this.isRestDay=!1,this.solarYear=Y(t,"yyyy"),this.solarMonth=Y(t,"M"),this.solarDate=Y(t,"d"),this.solarWeekDay=t.getDay(),this.inWeekDays="星期"+l.charAt(this.solarWeekDay),e=new j(t),this.lunarYear=e.year,this.shengxiao=o.charAt((this.lunarYear-4)%12),this.lunarMonth=e.month,this.lunarIsLeapMonth=e.isLeap,this.lnongMonth=this.lunarIsLeapMonth?"闰"+c[e.month-1]:c[e.month-1],this.lunarDate=e.day,this.showInLunar=this.lnongDate=M(this.lunarMonth,this.lunarDate),1==this.lunarDate&&(this.showInLunar=this.lnongMonth+"月"),this.ganzhiYear=p(e.yearCyl),this.ganzhiMonth=p(e.monCyl),this.ganzhiDate=p(e.dayCyl++),this.jieqi="",this.restDays=0,m(this.solarYear,2*(this.solarMonth-1))==Y(t,"d")&&(this.showInLunar=this.jieqi=r[2*(this.solarMonth-1)]),m(this.solarYear,2*(this.solarMonth-1)+1)==Y(t,"d")&&(this.showInLunar=this.jieqi=r[2*(this.solarMonth-1)+1]),"清明"==this.showInLunar&&(this.showInLunar="清明节",this.restDays=1),this.solarFestival=h[Y(t,"MM")+Y(t,"dd")],"undefined"==typeof this.solarFestival?this.solarFestival="":/\*(\d)/.test(this.solarFestival)&&(this.restDays=parseInt(RegExp.$1),this.solarFestival=this.solarFestival.replace(/\*\d/,"")),this.showInLunar=""==this.solarFestival?this.showInLunar:this.solarFestival,this.lunarFestival=u[this.lunarIsLeapMonth?"00":D(this.lunarMonth)+D(this.lunarDate)],"undefined"==typeof this.lunarFestival?this.lunarFestival="":/\*(\d)/.test(this.lunarFestival)&&(this.restDays=this.restDays>parseInt(RegExp.$1)?this.restDays:parseInt(RegExp.$1),this.lunarFestival=this.lunarFestival.replace(/\*\d/,"")),12==this.lunarMonth&&this.lunarDate==v(this.lunarYear,12)&&(this.lunarFestival=u["0100"],this.restDays=1),this.showInLunar=""==this.lunarFestival?this.showInLunar:this.lunarFestival}var a=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448],n=[0,21208,43467,63836,85337,107014,128867,150921,173149,195551,218072,240693,263343,285989,308563,331033,353350,375494,397447,419210,440795,462224,483532,504758],i="甲乙丙丁戊己庚辛壬癸",s="子丑寅卯辰巳午未申酉戌亥",o="鼠牛虎兔龙蛇马羊猴鸡狗猪",r=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],l="日一二三四五六七八九十",d="初十廿卅",c=["正","二","三","四","五","六","七","八","九","十","十一","腊"],h={"0101":"*1元旦节","0202":"湿地日","0214":"情人节","0308":"妇女节","0312":"植树节","0315":"消费者权益日","0401":"愚人节","0422":"地球日","0501":"*1劳动节","0504":"青年节","0512":"护士节","0518":"博物馆日","0520":"母亲节","0601":"儿童节","0623":"奥林匹克日","0630":"父亲节","0701":"建党节","0801":"建军节","0903":"抗战胜利日","0910":"教师节",1001:"*3国庆节",1201:"艾滋病日",1224:"平安夜",1225:"圣诞节"},u={"0100":"除夕","0101":"*2春节","0115":"元宵节","0505":"*1端午节","0707":"七夕节","0715":"中元节","0815":"*1中秋节","0909":"*1重阳节",1015:"下元节",1208:"腊八节",1223:"小年"};return t=function(t,a,n){return new e(new Date(t,a,n))}});